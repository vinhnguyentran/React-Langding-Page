var CVOFormEditor={commands:["bold","italic","underline","align-left","align-right","align-center","align-justify","remove-format","undo","redo","ordered-list","unordered-list",],editorOn:function(element){$(".editor-controls").removeClass("disabled");},editorOff:function(){$(".editor-controls").addClass("disabled");},executeEditorCommand:function(command){if(this.isEditorOff()){return false;}
this.trackingTa(command);document.execCommand(this.getRawCommand(command));this.update();},onControl:function(command){$(".editor-control[command="+command+"]").addClass("active");},offControl:function(command){$(".editor-control[command="+command+"]").removeClass("active");},queryCommandValue:function(command){var rawCommand=this.getRawCommand(command);var commandValue=null;if(rawCommand){commandValue=document.queryCommandValue(rawCommand);}
if(commandValue===true){commandValue="true";}
if(commandValue===false){commandValue="false";}
return commandValue;},isEditorOff:function(){return $(".editor-controls").hasClass("disabled");},init:function(callback){var _this=CVOFormEditor;$(".editor-control").bind("mousedown",function(e){e.preventDefault();var command=$(this).attr("command");_this.executeEditorCommand(command);});setInterval(function(){if(_this.isEditorOff())return false;_this.update();},100);if(callback){callback();}},update:function(){for(var i=0;i<this.commands.length;i++){this.updateControl(this.commands[i]);}},updateControl:function(command){var commandValue=this.queryCommandValue(command);if(commandValue=="true"){this.onControl(command);}else{this.offControl(command);}},getRawCommand:function(command){switch(command){case "bold":case "italic":case "underline":case "undo":case "redo":return command;case "align-left":return "JustifyLeft";case "align-right":return "JustifyRight";case "align-center":return "JustifyCenter";case "align-justify":return "JustifyFull";case "remove-format":return "RemoveFormat";case "ordered-list":return "insertOrderedList";case "unordered-list":return "insertUnorderedList";}
return false;},trackingTa(command){switch(command){case "bold":return ta("text_bold_1.0");case "italic":return ta("text_italic_1.0");case "underline":return ta("text_underline_1.0");case "undo":return ta("text_undo_1.0");case "redo":return ta("text_redo_1.0");case "align-left":return ta("text_align_left_1.0");case "align-right":return ta("text_align_right_1.0");case "align-center":return ta("text_align_center_1.0");case "align-justify":return ta("text_align_justify_1.0");case "remove-format":return ta("text_remove_format_1.0");case "ordered-list":return ta("text_ordered_list_1.0");case "unordered-list":return ta("text_unordered_list_1.0");}},};function editorOn(element){CVOFormEditor.editorOn(element);}
function editorOff(){CVOFormEditor.editorOff();}
function isEditorSupported(){return document.queryCommandValue("JustifyFull")!=="";}
$(document).ready(function(){if(isEditorSupported()){CVOFormEditor.init(function(){$("#cv-form-text-editor").show();});}});